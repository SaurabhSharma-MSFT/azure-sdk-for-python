parameters: 
  ContainerRegistryClientId: ''
  ContainerRegistryClientSecret: ''
  ContainerRegistry: 'not-specified'
  ImageName: 'not-specified'
  Tag: latest
steps:
- pwsh: |
    docker login $(containerRegistry) -u "${{ parameters.ContainerRegistryClientId }}" -p "${{ parameters.ContainerRegistryClientId }}"
  displayName: Login container registry
- pwsh: |
    $imageIdentity = '${{ parameters.ContainerRegistry }}/${{ parameters.ImageName }}:${{ parameters.Tag }}'
    docker pull $imageIdentity
    echo "##vso[task.setvariable variable=ImageIdentity]$imageIdentity"
  displayName: Pull docker image ${{ parameters.ImageName }}